<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Choose by abhishekgahlot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <style type="text/css">
    .btn.shuffle{
        margin-top: 50px;
        display: block;
        width: 150px;
        color: #fff;
        text-align: center;
        background-color: #159957;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Choose</h1>
      <h2 class="project-tagline">Shuffles your best option and show a random choice.</h2>
      <a href="https://github.com/abhishekgahlot/choice" class="btn">View on GitHub</a>
    </section>

    <section class="main-content">
      <h3><a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shuffle and Choose One.</h3>
      <div id="result">
          <h2 style="color:#2c3e50" id="result-val"></h2>
      </div>
      <h2>Add your List</h2>
      <textarea rows="5" cols="100" class="form-control" placeholder="Add choice to new line." id="message" required data-validation-required-message="Please enter a message."></textarea>
      <a type="button" class="btn shuffle" id="shuffle">Shuffle</a>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/abhishekgahlot/choice">Choice</a> is maintained by <a href="https://github.com/abhishekgahlot">abhishekgahlot</a>.</span>

      </footer>

    </section>
    <script type="text/javascript">
          function shuffleArray(array) {
              for (var i = array.length - 1; i > 0; i--) {
                  var j = Math.floor(Math.random() * (i + 1));
                  var temp = array[i];
                  array[i] = array[j];
                  array[j] = temp;
              }
              return array;
          }
          document.getElementById("shuffle").onclick = function(){
              var array = [];
              var items = document.getElementById("message").value.split("\n");
              for (var value in items){
                  if(items[value]){
                      array.push(items[value]);
                  }
              }
              window.choice = shuffleArray(array).pop();
              console.log(window.choice)
              if(window.choice){
                  document.getElementById("result-val").innerText = JSON.stringify(window.choice);
              }
          };

      </script>


  </body>
</html>
